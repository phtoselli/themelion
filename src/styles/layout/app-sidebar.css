/* =============================================
   App Sidebar
   ============================================= */

/* Desktop sidebar */
.app-sidebar {
	position: fixed;
	inset: 0 auto 0 0;
	z-index: 40;
	display: flex;
	flex-direction: column;
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
	background: color-mix(in srgb, var(--surface) 80%, transparent);
	border-right: 1px solid var(--sidebar-border);
	transition: width 0.3s ease-out;
	overflow: hidden;
}
.app-sidebar[data-expanded="true"] {
	width: var(--spacing-sidebar-expanded);
}
.app-sidebar[data-expanded="false"] {
	width: var(--spacing-sidebar-collapsed);
}

/* Mobile sidebar content */
.app-sidebar-mobile {
	width: 280px;
	padding: 0;
	background: var(--sidebar);
	border-color: var(--sidebar-border);
	display: flex;
	flex-direction: column;
}

/* Logo area */
.sidebar-logo {
	flex-shrink: 0;
	height: 3.5rem;
	display: flex;
	align-items: center;
	gap: 0.75rem;
	padding: 0 1rem;
	border-bottom: 1px solid var(--sidebar-border);
}

.sidebar-logo-icon {
	position: relative;
}

.sidebar-logo-icon > svg {
	color: var(--primary);
	flex-shrink: 0;
	position: relative;
	z-index: 10;
}

.sidebar-logo-glow {
	position: absolute;
	inset: -0.25rem;
	background: color-mix(in srgb, var(--primary) 10%, transparent);
	border-radius: var(--radius-lg);
	filter: blur(4px);
}

.sidebar-logo-text {
	font-family: "Syne", system-ui, sans-serif;
	font-weight: 700;
	font-size: 0.875rem;
	color: var(--text);
	letter-spacing: -0.025em;
	white-space: nowrap;
}

/* Toggle/close button */
.sidebar-toggle-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: var(--radius-lg);
	padding: 0.375rem;
	color: var(--text-faint);
	transition: all 0.2s;
}
.sidebar-toggle-btn:hover {
	color: var(--text);
	background: var(--surface-hover);
}
.sidebar-toggle-btn[data-position="end"] {
	margin-left: auto;
}

/* Navigation */
.sidebar-nav {
	flex: 1;
	overflow-y: auto;
	overflow-x: hidden;
	padding: 1rem 0.625rem;
	display: flex;
	flex-direction: column;
	gap: 0.25rem;
}

.sidebar-nav-item {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	border-radius: var(--radius-lg);
	transition: all 0.2s;
	color: var(--text-muted);
}
.sidebar-nav-item:hover {
	color: var(--text);
	background: var(--surface-hover);
}
.sidebar-nav-item[data-expanded="true"] {
	padding: 0.625rem 0.75rem;
}
.sidebar-nav-item[data-expanded="false"] {
	padding: 0.5rem 0;
	justify-content: center;
}
.sidebar-nav-item[data-active="true"] {
	background: color-mix(in srgb, var(--primary) 8%, transparent);
	color: var(--primary);
}

.sidebar-nav-item > svg {
	flex-shrink: 0;
}

.sidebar-nav-label {
	font-size: 0.875rem;
	font-weight: 500;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

/* Settings */
.sidebar-settings {
	flex-shrink: 0;
	border-top: 1px solid var(--sidebar-border);
	padding: 0.75rem 0.625rem;
	position: relative;
}

.sidebar-settings-btn {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	width: 100%;
	border-radius: var(--radius-lg);
	transition: all 0.2s;
	color: var(--text-muted);
}
.sidebar-settings-btn:hover {
	color: var(--text);
	background: var(--surface-hover);
}
.sidebar-settings-btn[data-expanded="true"] {
	padding: 0.625rem 0.75rem;
}
.sidebar-settings-btn[data-expanded="false"] {
	padding: 0.5rem 0;
	justify-content: center;
}
.sidebar-settings-btn[data-active="true"] {
	background: color-mix(in srgb, var(--primary) 8%, transparent);
	color: var(--primary);
}

.sidebar-settings-btn > svg {
	flex-shrink: 0;
}

.sidebar-settings-panel {
	margin-top: 0.5rem;
	display: flex;
	flex-direction: column;
	gap: 0.25rem;
	animation: fade-in 0.3s ease-out;
}

.sidebar-settings-action {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	width: 100%;
	border-radius: var(--radius-lg);
	padding: 0.625rem 0.75rem;
	color: var(--text-muted);
	transition: all 0.2s;
}
.sidebar-settings-action:hover {
	color: var(--text);
	background: var(--surface-hover);
}
.sidebar-settings-action > svg {
	flex-shrink: 0;
}
.sidebar-settings-action > span {
	font-size: 0.875rem;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

/* Danger action (logout) */
.sidebar-settings-action-danger {
	color: hsl(0, 84%, 60%);
	border: 1px solid hsl(0, 84%, 60%);
}
.sidebar-settings-action-danger:hover {
	color: hsl(0, 84%, 50%);
	background: color-mix(in srgb, hsl(0, 84%, 60%) 10%, transparent);
	border-color: hsl(0, 84%, 50%);
}

.sidebar-import-error {
	font-size: 0.75rem;
	padding: 0.375rem 0.75rem;
	border-radius: var(--radius-md);
	color: var(--advanced);
	background: color-mix(in srgb, var(--advanced) 10%, transparent);
}
